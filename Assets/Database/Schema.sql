PRAGMA foreign_keys = OFF;

DROP TABLE IF EXISTS Client;
DROP TABLE IF EXISTS Job;
DROP TABLE IF EXISTS Invoice;


CREATE TABLE Client (
    ClientId INT PRIMARY KEY,
    Type VARCHAR(20) NOT NULL CHECK (Type IN ('company', 'individual')),
    FullName VARCHAR(100) NOT NULL,
    CompanyName VARCHAR(100) NULL,
    Email VARCHAR(100) NULL,
    PhoneNumber VARCHAR(20) NULL,
    BillingAddress VARCHAR(255),
    City VARCHAR(50),
    Postcode VARCHAR(20),
    Country VARCHAR(50),
    CreatedDate DATETIME DEFAULT CURRENT_TIMESTAMP,
    IsActive BIT NOT NULL DEFAULT 1
);

INSERT INTO Job (JobId, ClientId, Title, Description, Status, EstimatedPrice, FinalPrice, CreatedDate, StartDate, CompletedDate, DueDate, FolderPath, Notes, IsArchived) VALUES
(1, 1, 'Website Development', 'Develop a new company website', 'New', 1500.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-01', '/projects/website', 'Initial project setup', 0),
(2, 2, 'SEO Optimization', 'Optimize website for search engines', 'InProgress', 800.00, 0.0, CURRENT_TIMESTAMP, '2023-10-01', '2023-10-01', '2023-11-01', '/projects/seo', 'Focus on keywords', 0),
(3, 3, 'Mobile App', 'Create a mobile application', 'Done', 2000.00, 1800.00, CURRENT_TIMESTAMP, '2023-05-01', '2023-09-01', '2023-10-01', '/projects/app', 'Final version delivered', 0),
(4, 4, 'Graphic Design', 'Design marketing materials', 'Invoiced', 500.00, 500.00, CURRENT_TIMESTAMP, '2023-06-01', '2023-06-30', '2023-07-01', '/projects/design', 'Invoice sent', 0),
(5, 5, 'Content Writing', 'Write blog posts', 'Paid', 300.00, 300.00, CURRENT_TIMESTAMP, '2023-08-01', '2023-09-01', '2023-09-15', '/projects/content', 'Payment received', 0),
(6, 6, 'Social Media Management', 'Manage social media accounts', 'New', 600.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-15', '/projects/social', 'Initial setup', 0),
(7, 7, 'Email Marketing', 'Create email campaigns', 'InProgress', 400.00, 0.0, CURRENT_TIMESTAMP, '2023-10-15', '2023-10-15', '2023-11-15', '/projects/email', 'Campaign in progress', 0),
(8, 8, 'E-commerce Setup', 'Set up online store', 'Done', 2500.00, 2400.00, CURRENT_TIMESTAMP, '2023-05-15', '2023-09-15', '2023-10-01', '/projects/ecommerce', 'Final version delivered', 0),
(9, 9, 'Brand Strategy', 'Develop brand strategy', 'Invoiced', 700.00, 700.00, CURRENT_TIMESTAMP, '2023-06-15', '2023-07-10', '2023-07-15', '/projects/brand', 'Invoice sent', 0),
(10, 10, 'Video Production', 'Create promotional video', 'Paid', 1200.00, 1200.00, CURRENT_TIMESTAMP, '2023-08-15', '2023-09-15', '2023-09-30', '/projects/video', 'Payment received', 0),
(11, 11, 'Website Maintenance', 'Maintain existing website', 'New', 400.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-20', '/projects/maintenance', 'Initial setup', 0),
(12, 12, 'Market Research', 'Conduct market research', 'InProgress', 900.00, 0.0, CURRENT_TIMESTAMP, '2023-10-20', '2023-10-20', '2023-11-20', '/projects/research', 'Research ongoing', 0),
(13, 13, 'Logo Design', 'Design a new logo', 'Done', 300.00, 300.00, CURRENT_TIMESTAMP, '2023-05-20', '2023-09-20', '2023-10-05', '/projects/logo', 'Final version delivered', 0),
(14, 14, 'App Maintenance', 'Maintain mobile application', 'Invoiced', 500.00, 500.00, CURRENT_TIMESTAMP, '2023-06-20', '2023-07-15', '2023-07-20', '/projects/app-maintenance', 'Invoice sent', 0),
(15, 15, 'Content Strategy', 'Develop content strategy', 'Paid', 600.00, 600.00, CURRENT_TIMESTAMP, '2023-08-20', '2023-09-20', '2023-09-25', '/projects/content-strategy', 'Payment received', 0),
(16, 16, 'PPC Campaign', 'Manage pay-per-click campaigns', 'New', 800.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-25', '/projects/ppc', 'Initial setup', 0),
(17, 17, 'Influencer Marketing', 'Collaborate with influencers', 'InProgress', 700.00, 0.0, CURRENT_TIMESTAMP, '2023-10-25', '2023-10-25', '2023-11-25', '/projects/influencer', 'Campaign ongoing', 0),
(18, 18, 'Website Audit', 'Conduct website audit', 'Done', 400.00, 400.00, CURRENT_TIMESTAMP, '2023-05-25', '2023-09-25', '2023-10-10', '/projects/audit', 'Final version delivered', 0),
(19, 19, 'Email List Building', 'Build email list', 'Invoiced', 300.00, 300.00, CURRENT_TIMESTAMP, '2023-06-25', '2023-07-20', '2023-07-25', '/projects/email-list', 'Invoice sent', 0),
(20, 20, 'Webinar Hosting', 'Host a webinar', 'Paid', 500.00, 500.00, CURRENT_TIMESTAMP, '2023-08-25', '2023-09-25', '2023-09-30', '/projects/webinar', 'Payment received', 0),
(21, 21, 'User Testing', 'Conduct user testing', 'New', 600.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-30', '/projects/testing', 'Initial setup', 0),
(22, 22, 'Sales Funnel Creation', 'Create sales funnel', 'InProgress', 900.00, 0.0, CURRENT_TIMESTAMP, '2023-10-30', '2023-10-30', '2023-11-30', '/projects/funnel', 'Funnel in progress', 0),
(23, 23, 'Affiliate Marketing', 'Manage affiliate program', 'Done', 1200.00, 1200.00, CURRENT_TIMESTAMP, '2023-05-30', '2023-09-30', '2023-10-15', '/projects/affiliate', 'Final version delivered', 0),
(24, 24, 'Customer Feedback', 'Gather customer feedback', 'Invoiced', 400.00, 400.00, CURRENT_TIMESTAMP, '2023-06-30', '2023-07-25', '2023-07-30', '/projects/feedback', 'Invoice sent', 0),
(25, 25, 'Branding Workshop', 'Conduct branding workshop', 'Paid', 800.00, 800.00, CURRENT_TIMESTAMP, '2023-08-30', '2023-09-30', '2023-09-30', '/projects/workshop', 'Payment received', 0),
(26, 26, 'CRM Setup', 'Set up customer relationship management', 'New', 1000.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-31', '/projects/crm', 'Initial setup', 0),
(27, 27, 'Data Analysis', 'Analyze customer data', 'InProgress', 500.00, 0.0, CURRENT_TIMESTAMP, '2023-10-31', '2023-10-31', '2023-11-30', '/projects/data-analysis', 'Analysis ongoing', 0),
(28, 28, 'Event Planning', 'Plan a corporate event', 'Done', 1500.00, 1440.70, CURRENT_TIMESTAMP, '2023-05-31', '2023-09-30', '2023-10-20', '/projects/event', 'Final version delivered', 0),
(29, 29, 'Training Program', 'Develop training program', 'Invoiced', 600.00, 600.00, CURRENT_TIMESTAMP, '2023-06-25', '2023-07-25', '2023-07-31', '/projects/training', 'Invoice sent', 0),
(30, 30, 'Product Launch', 'Launch new product', 'Paid', 2000.00, 2000.00, CURRENT_TIMESTAMP, '2023-08-31', '2023-09-30', '2023-11-30', '/projects/launch', 'Payment received', 0);

CREATE TABLE Job (
    JobId INTEGER PRIMARY KEY,
    ClientId INTEGER NOT NULL,
    Title TEXT,
    Description TEXT,
    Status VARCHAR(20) CHECK (Status IN ('New', 'InProgress', 'Done', 'Invoiced', 'Paid')),
    EstimatedPrice REAL,
    FinalPrice REAL,
    CreatedDate DATETIME,
    StartDate DATETIME,
    CompletedDate DATETIME,
    DueDate DATETIME,
    FolderPath TEXT,
    Notes TEXT,
    IsArchived BOOLEAN,
    FOREIGN KEY (ClientId) REFERENCES Client(ClientId)
);

INSERT INTO Job (JobId, ClientId, Title, Description, Status, EstimatedPrice, FinalPrice, CreatedDate, StartDate, CompletedDate, DueDate, FolderPath, Notes, IsArchived) VALUES
(1, 1, 'Website Development', 'Develop a new company website', 'New', 1545.00, 67.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-01', '/projects/website', 'Initial project setup', 0),
(2, 2, 'SEO Optimization', 'Optimize website for search engines', 'InProgress', 800.00, 44.50, CURRENT_TIMESTAMP, '2023-10-01', '2023-10-01', '2023-11-01', '/projects/seo', 'Focus on keywords', 0),
(3, 3, 'Mobile App', 'Create a mobile application', 'Done', 2000.00, 1800.00, CURRENT_TIMESTAMP, '2023-05-01', '2023-09-01', '2023-10-01', '/projects/app', 'Final version delivered', 0),
(4, 4, 'Graphic Design', 'Design marketing materials', 'Invoiced', 500.00, 520.23, CURRENT_TIMESTAMP, '2023-06-01', '2023-06-30', '2023-07-01', '/projects/design', 'Invoice sent', 0),
(5, 5, 'Content Writing', 'Write blog posts', 'Paid', 300.00, 300.00, CURRENT_TIMESTAMP, '2023-08-01', '2023-09-01', '2023-09-15', '/projects/content', 'Payment received', 0),
(6, 6, 'Social Media Management', 'Manage social media accounts', 'New', 600.00, 40.10, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-15', '/projects/social', 'Initial setup', 0),
(7, 7, 'Email Marketing', 'Create email campaigns', 'InProgress', 480.00, 0.0, CURRENT_TIMESTAMP, '2023-10-15', '2023-10-15', '2023-11-15', '/projects/email', 'Campaign in progress', 0),
(8, 8, 'E-commerce Setup', 'Set up online store', 'Done', 2500.00, 2400.00, CURRENT_TIMESTAMP, '2023-05-15', '2023-09-15', '2023-10-01', '/projects/ecommerce', 'Final version delivered', 0),
(9, 9, 'Brand Strategy', 'Develop brand strategy', 'Invoiced', 700.00, 700.00, CURRENT_TIMESTAMP, '2023-06-15', '2023-07-10', '2023-07-15', '/projects/brand', 'Invoice sent', 0),
(10, 10, 'Video Production', 'Create promotional video', 'Paid', 1200.00, 1240.56, CURRENT_TIMESTAMP, '2023-08-15', '2023-09-15', '2023-09-30', '/projects/video', 'Payment received', 0),
(11, 11, 'Website Maintenance', 'Maintain existing website', 'New', 400.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-20', '/projects/maintenance', 'Initial setup', 0),
(12, 12, 'Market Research', 'Conduct market research', 'InProgress', 905.00, 0.0, CURRENT_TIMESTAMP, '2023-10-20', '2023-10-20', '2023-11-20', '/projects/research', 'Research ongoing', 0),
(13, 13, 'Logo Design', 'Design a new logo', 'Done', 300.00, 300.00, CURRENT_TIMESTAMP, '2023-05-20', '2023-09-20', '2023-10-05', '/projects/logo', 'Final version delivered', 0),
(14, 14, 'App Maintenance', 'Maintain mobile application', 'Invoiced', 500.00, 510.23, CURRENT_TIMESTAMP, '2023-06-20', '2023-07-15', '2023-07-20', '/projects/app-maintenance', 'Invoice sent', 0),
(15, 15, 'Content Strategy', 'Develop content strategy', 'Paid', 605.00, 600.00, CURRENT_TIMESTAMP, '2023-08-20', '2023-09-20', '2023-09-25', '/projects/content-strategy', 'Payment received', 0),
(16, 16, 'PPC Campaign', 'Manage pay-per-click campaigns', 'New', 800.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-25', '/projects/ppc', 'Initial setup', 0),
(17, 17, 'Influencer Marketing', 'Collaborate with influencers', 'InProgress', 705.00, 78.30, CURRENT_TIMESTAMP, '2023-10-25', '2023-10-25', '2023-11-25', '/projects/influencer', 'Campaign ongoing', 0),
(18, 18, 'Website Audit', 'Conduct website audit', 'Done', 400.00, 400.00, CURRENT_TIMESTAMP, '2023-05-25', '2023-09-25', '2023-10-10', '/projects/audit', 'Final version delivered', 0),
(19, 19, 'Email List Building', 'Build email list', 'Invoiced', 300.00, 300.00, CURRENT_TIMESTAMP, '2023-06-25', '2023-07-20', '2023-07-25', '/projects/email-list', 'Invoice sent', 0),
(20, 20, 'Webinar Hosting', 'Host a webinar', 'Paid', 500.00, 500.00, CURRENT_TIMESTAMP, '2023-08-25', '2023-09-25', '2023-09-30', '/projects/webinar', 'Payment received', 0),
(21, 21, 'User Testing', 'Conduct user testing', 'New', 600.00, 0.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-30', '/projects/testing', 'Initial setup', 0),
(22, 22, 'Sales Funnel Creation', 'Create sales funnel', 'InProgress', 900.00, 40.0, CURRENT_TIMESTAMP, '2023-10-30', '2023-10-30', '2023-11-30', '/projects/funnel', 'Funnel in progress', 0),
(23, 23, 'Affiliate Marketing', 'Manage affiliate program', 'Done', 1200.00, 1240.01, CURRENT_TIMESTAMP, '2023-05-30', '2023-09-30', '2023-10-15', '/projects/affiliate', 'Final version delivered', 0),
(24, 24, 'Customer Feedback', 'Gather customer feedback', 'Invoiced', 400.00, 426.00, CURRENT_TIMESTAMP, '2023-06-30', '2023-07-25', '2023-07-30', '/projects/feedback', 'Invoice sent', 0),
(25, 25, 'Branding Workshop', 'Conduct branding workshop', 'Paid', 800.00, 800.00, CURRENT_TIMESTAMP, '2023-08-30', '2023-09-30', '2023-09-30', '/projects/workshop', 'Payment received', 0),
(26, 26, 'CRM Setup', 'Set up customer relationship management', 'New', 1050.00, 24.0, CURRENT_TIMESTAMP, '2023-01-01', '2023-01-01', '2023-12-31', '/projects/crm', 'Initial setup', 0),
(27, 27, 'Data Analysis', 'Analyze customer data', 'InProgress', 500.00, 0.0, CURRENT_TIMESTAMP, '2023-10-31', '2023-10-31', '2023-11-21', '/projects/data-analysis', 'Analysis ongoing', 0),
(28, 28, 'Event Planning', 'Plan a corporate event', 'Done', 1500.00, 1407.00, CURRENT_TIMESTAMP, '2023-05-31', '2023-09-30', '2023-10-20', '/projects/event', 'Final version delivered', 0),
(29, 29, 'Training Program', 'Develop training program', 'Invoiced', 600.00, 630.00, CURRENT_TIMESTAMP, '2023-06-25', '2023-07-25', '2023-07-31', '/projects/training', 'Invoice sent', 0),
(30, 30, 'Product Launch', 'Launch new product', 'Paid', 2000.00, 2010.00, CURRENT_TIMESTAMP, '2023-08-31', '2023-09-30', '2023-09-30', '/projects/launch', 'Payment received', 0);

CREATE TABLE Invoice (
    InvoiceId INTEGER PRIMARY KEY,
    JobId INTEGER NOT NULL,
    InvoiceNumber TEXT,
    Subtotal REAL,
    TaxAmount REAL,
    TotalAmount REAL,
    IssueDate DATETIME,
    DueDate DATETIME,
    IsPaid BOOLEAN,
    PaidDate DATETIME,
    PaymentMethod TEXT,
    Notes TEXT,
    FOREIGN KEY (JobId) REFERENCES Job(JobId)
);

INSERT INTO Invoice (InvoiceId, JobId, InvoiceNumber, Subtotal, TaxAmount, TotalAmount, IssueDate, DueDate, IsPaid, PaidDate, PaymentMethod, Notes) VALUES
(1, 1, 'INV-0001', 1500.00, 150.00, 1653.00, CURRENT_TIMESTAMP, '2027-12-01', 0, '1900-01-01', 'Credit Card', 'Initial invoice'),
(2, 2, 'INV-0002', 800.00, 80.00, 880.00, CURRENT_TIMESTAMP, '2023-11-01', 0, '1900-01-01', 'PayPal', 'Invoice for SEO services'),
(3, 3, 'INV-0003', 2000.00, 200.00, 2200.00, CURRENT_TIMESTAMP, '2027-10-01', 1, '2023-09-30', 'Bank Transfer', 'Final invoice for app development'),
(4, 4, 'INV-0004', 500.00, 50.00, 550.50, CURRENT_TIMESTAMP, '2023-07-01', 0, '1900-01-01', 'Credit Card', 'Invoice for design services'),
(5, 5, 'INV-0005', 300.00, 30.00, 330.00, CURRENT_TIMESTAMP, '2023-09-15', 1, '2023-09-15', 'PayPal', 'Invoice for content writing'),
(6, 6, 'INV-0006', 600.00, 60.00, 660.00, CURRENT_TIMESTAMP, '2027-12-15', 0, '1900-01-01', 'Credit Card', 'Initial invoice for social media management'),
(7, 7, 'INV-0007', 400.00, 40.00, 444.00, CURRENT_TIMESTAMP, '2023-11-15', 0, '1900-01-01', 'PayPal', 'Invoice for email marketing'),
(8, 8, 'INV-0008', 2500.00, 250.00, 2750.00, CURRENT_TIMESTAMP, '2023-10-01', 1, '2023-09-30', 'Bank Transfer', 'Final invoice for e-commerce setup'),
(9, 9, 'INV-0009', 700.00, 70.00, 770.00, CURRENT_TIMESTAMP, '2023-07-15', 0, '1900-01-01', 'Credit Card', 'Invoice for brand strategy'),
(10, 10, 'INV-0010', 1200.00, 120.00, 1320.00, CURRENT_TIMESTAMP, '2023-09-30', 1, '2023-09-30', 'PayPal', 'Final invoice for video production'),
(11, 11, 'INV-0011', 400.00, 40.00, 440.00, CURRENT_TIMESTAMP, '2026-12-20', 0, '1900-01-01', 'Credit Card', 'Initial invoice for website maintenance'),
(12, 12, 'INV-0012', 900.00, 90.00, 990.00, CURRENT_TIMESTAMP, '2023-11-20', 0, '1900-01-01', 'PayPal', 'Invoice for market research'),
(13, 13, 'INV-0013', 300.00, 30.00, 330.60, CURRENT_TIMESTAMP, '2026-10-05', 1, '2023-10-05', 'Bank Transfer', 'Final invoice for logo design'),
(14, 14, 'INV-0014', 500.00, 50.00, 550.20, CURRENT_TIMESTAMP, '2023-07-20', 0, '1900-01-01', 'Credit Card', 'Invoice for app maintenance'),
(15, 15, 'INV-0015', 600.00, 60.00, 660.44, CURRENT_TIMESTAMP, '2027-09-25', 1, '2023-09-25', 'PayPal', 'Final invoice for content strategy'),
(16, 16, 'INV-0016', 800.00, 80.00, 880.00, CURRENT_TIMESTAMP, '2023-12-25', 0, '1900-01-01', 'Credit Card', 'Initial invoice for PPC campaign'),
(17, 17, 'INV-0017', 700.00, 70.00, 770.75, CURRENT_TIMESTAMP, '2023-11-25', 0, '1900-01-01', 'PayPal', 'Invoice for influencer marketing'),
(18, 18, 'INV-0018', 400.00, 40.00, 444.00, CURRENT_TIMESTAMP, '2026-10-10', 1, '2023-10-10', 'Bank Transfer', 'Final invoice for website audit'),
(19, 19, 'INV-0019', 300.00, 30.00, 330.40, CURRENT_TIMESTAMP, '2023-07-30', 0, '1900-01-01', 'Credit Card', 'Invoice for customer feedback'),
(20, 20, 'INV-0020', 500.00, 50.00, 550.00, CURRENT_TIMESTAMP, '2023-09-30', 1, '2023-09-30', 'PayPal', 'Final invoice for webinar hosting'),
(21, 21, 'INV-0021', 600.00, 60.00, 660.05, CURRENT_TIMESTAMP, '2023-12-30', 0, '1900-01-01', 'Credit Card', 'Initial invoice for user testing'),
(22, 22, 'INV-0022', 900.00, 90.00, 990.30, CURRENT_TIMESTAMP, '2026-11-30', 0, '1900-01-01', 'PayPal', 'Invoice for sales funnel creation'),
(23, 23, 'INV-0023', 1200.00, 120.00, 1320.00, CURRENT_TIMESTAMP, '2023-10-15', 1, '2023-10-15', 'Bank Transfer', 'Final invoice for affiliate marketing'),
(24, 24, 'INV-0024', 400.00, 40.00, 440.80, CURRENT_TIMESTAMP, '2026-07-30', 0, '1900-01-01', 'Credit Card', 'Invoice for branding workshop'),
(25, 25, 'INV-0025', 800.00, 80.00, 880.00, CURRENT_TIMESTAMP, '2023-09-30', 1, '2023-09-30', 'PayPal', 'Final invoice for training program'),
(26, 26, 'INV-0026', 1000.00, 100.00, 1100.05, CURRENT_TIMESTAMP, '2023-12-31', 0, '1900-01-01', 'Credit Card', 'Initial invoice for CRM setup'),
(27, 27, 'INV-0027', 500.00, 50.00, 550.00, CURRENT_TIMESTAMP, '2026-11-30', 0, '1900-01-01', 'PayPal', 'Invoice for data analysis'),
(28, 28, 'INV-0028', 1500.00, 150.00, 1650.00, CURRENT_TIMESTAMP, '2023-10-20', 1, '2023-10-20', 'Bank Transfer', 'Final invoice for event planning'),
(29, 29, 'INV-0029', 600.00, 60.00, 664.00, CURRENT_TIMESTAMP, '2023-07-31', 0, '1900-01-01', 'Credit Card', 'Invoice for product launch'),
(30, 30, 'INV-0030', 2000.00, 200.00, 2200.00, CURRENT_TIMESTAMP, '2023-09-30', 1, '2023-09-30', 'PayPal', 'Final invoice for product launch');

PRAGMA foreign_keys = ON;